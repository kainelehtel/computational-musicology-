---
title: "wk 7 computational musicology"
output: html_document
date: "2024-02-14"
---

```{r, setup}
library(ggplot2)
library(tidyverse)
library(spotifyr)
```

```{r}
The_Miseducation_of_Lauryn_Hill <- get_playlist_audio_features("","7LgTeZfYx6A0h5qEim55ni")
Brand_New_Life <- get_playlist_audio_features("", "4M9DgKekhGMptk6mx9ceyx")
Harp_Hip_Hop <- get_playlist_audio_features("", "2BwoJ5XofWPU8t6DaTx2Ll")
```

```{r}
playlists <- bind_rows(
  The_Miseducation_of_Lauryn_Hill %>% mutate(category = "The_Miseducation_of_Lauryn_Hill"),
  Brand_New_Life %>% mutate(category = "Brand_New_Life"),
  Harp_Hip_Hop %>% mutate(category = "Harp_Hip_Hop")
)

str(playlists)
```

```{r}
playlists_summary <- playlists %>%
  summarise(
    mean_energy = mean(energy),
    mean_instrumentalness = mean(instrumentalness),
    mean_tempo = mean(tempo),
    sd_energy = sd(energy),
    sd_instrumentalness = sd(instrumentalness),
    sd_tempo = sd(tempo),
    median_energy = median(energy),
    median_instrumentalness = median(instrumentalness),
    median_tempo = median(tempo),
    mad_energy = mad(energy),
    mad_instrumentalness = mad(instrumentalness),
    mad_tempo = mad(tempo)
  )
```

```{r}
print(playlists_summary)
```

```{r}
ggplot(playlists) +
  geom_point(aes(x = tempo, y = energy, color = category)) +
  geom_smooth(aes(x = tempo, y = energy, group = category, color = category), method = 'loess', formula = 'y ~ x')
```
